<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="../css/weatherdata.css">
  </head>

  <body>
    <!--div id="ratings">
      <h1>Black's Beach</h1>
      <button id="favorite"> Favorite </button>
      <p> Current surf condition: Great </p>
      <p> Average overall beach rating: 4.3 / 5 </p>
      <p> This beach is recommended for: intermediate surfers </p>
    </div>
    <br>

    <div>
      <h3> Current Weather and Wave Conditions </h3>
      <p> Temperature: 	64&#8457;</p>
      <p> Swell direction: SE </p>
      <p> Minimum breaking height: 3.4 ft</p>
      <p> Maximum breaking height: 5 ft</p>
      <p> Tide: </p>
      <p> Wind speed: 6 mph</p>
      <p> Wind direction: SE </p>
    </div>
    <script id="display-template" type="text/x-handlebars-template">
    <div class="beach-data" id="display-data">
      <h1>{{beach}}</h1>
      <div class ="data">
        <p> Temperature: 	{{temp}} &#8457;</p>
        <p> Swell direction: {{swellDirection}} </p>
        <p> Minimum breaking height: {{minBH}} ft</p>
        <p> Maximum breaking height: {{maxBH}} ft</p>
        <p> Tide: {{tide}} </p>
        <p> Wind speed: {{windSpeed}} mph</p>
        <p> Wind direction: {{windDirection}} </p>
      </div>
    </div>
  </script>-->

  <script>
    let request = new XMLHttpRequest();

    request.open('GET', 'http://api.spitcast.com/api/spot/forecast/236/', true);
    request.responseType = 'text';

    request.onload = function () {
    	var data = JSON.parse(this.responseText);
      console.log("spot data:", data[0]);

      document.getElementById('beachName').append(data[0].spot_name);

  		const card = document.createElement('div');
  		card.setAttribute('class', 'card');

      const p1 = document.createElement('p');
      var shape = document.createTextNode("Current conditions: " + data[0].shape_full);
      p1.appendChild(shape);

      const p2 = document.createElement('p');
      var swell = document.createTextNode("Swell: " + data[0].shape_detail.swell);
      p2.appendChild(swell);

      const p3 = document.createElement('p');
      var tide = document.createTextNode("Tide: " + data[0].shape_detail.tide);
      p3.appendChild(tide);

      const p4 = document.createElement('p');
      var wind = document.createTextNode("Wind: " + data[0].shape_detail.wind);
      p4.appendChild(wind);

      const p5 = document.createElement('p');
      var wave = document.createTextNode("Wave size: " + data[0].size + "ft.");
      p5.appendChild(wave);

      card.appendChild(p1);
      card.appendChild(p2);
      card.appendChild(p3);
      card.appendChild(p4);
      card.appendChild(p5);
      const beachData = document.getElementById('beachData');
      beachData.appendChild(card);
    }
    request.send();

  </script>

    <br>

    <div class="content">
      <div id="beachData">
        <h2 id="beachName"> </h2>
      </div>

      <br>
      <h3> Reviews </h3>
      <a href="reviews.html"> Read reviews about the waves here </a>
      <br>
      <a href="writereview.html"> Post a review! </a>
    </div>

    <footer id="footer">
      <div id="menu">
        <a href="home.html"> <img src="../images/home.png"> </a>
        <a href="profile.html"> <img src="../images/profile.png"> </a>
      </div>
    </footer>

  </body>
</html>
